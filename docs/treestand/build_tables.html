<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nim. -->
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en" data-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>src/treestand/build_tables</title>

<!-- Google fonts -->
<link href='https://fonts.googleapis.com/css?family=Lato:400,600,900' rel='stylesheet' type='text/css'/>
<link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:400,500,600' rel='stylesheet' type='text/css'/>

<!-- Favicon -->
<link rel="shortcut icon" href="data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAUAAAAF////AP///wD///8A////AP///wD///8A////AP///wD///8A////AAAAAAIAAABbAAAAlQAAAKIAAACbAAAAmwAAAKIAAACVAAAAWwAAAAL///8A////AP///wD///8A////AAAAABQAAADAAAAAYwAAAA3///8A////AP///wD///8AAAAADQAAAGMAAADAAAAAFP///wD///8A////AP///wAAAACdAAAAOv///wD///8A////AP///wD///8A////AP///wD///8AAAAAOgAAAJ3///8A////AP///wAAAAAnAAAAcP///wAAAAAoAAAASv///wD///8A////AP///wAAAABKAAAAKP///wAAAABwAAAAJ////wD///8AAAAAgQAAABwAAACIAAAAkAAAAJMAAACtAAAAFQAAABUAAACtAAAAkwAAAJAAAACIAAAAHAAAAIH///8A////AAAAAKQAAACrAAAAaP///wD///8AAAAARQAAANIAAADSAAAARf///wD///8AAAAAaAAAAKsAAACk////AAAAADMAAACcAAAAnQAAABj///8A////AP///wAAAAAYAAAAGP///wD///8A////AAAAABgAAACdAAAAnAAAADMAAAB1AAAAwwAAAP8AAADpAAAAsQAAAE4AAAAb////AP///wAAAAAbAAAATgAAALEAAADpAAAA/wAAAMMAAAB1AAAAtwAAAOkAAAD/AAAA/wAAAP8AAADvAAAA3gAAAN4AAADeAAAA3gAAAO8AAAD/AAAA/wAAAP8AAADpAAAAtwAAAGUAAAA/AAAA3wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAADfAAAAPwAAAGX///8A////AAAAAEgAAADtAAAAvwAAAL0AAADGAAAA7wAAAO8AAADGAAAAvQAAAL8AAADtAAAASP///wD///8A////AP///wD///8AAAAAO////wD///8A////AAAAAIcAAACH////AP///wD///8AAAAAO////wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A//8AAP//AAD4HwAA7/cAAN/7AAD//wAAoYUAAJ55AACf+QAAh+EAAAAAAADAAwAA4AcAAP5/AAD//wAA//8AAA=="/>
<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QQQEwksSS9ZWwAAAk1JREFUWMPtll2ITVEUx39nn/O7Y5qR8f05wtCUUr6ZIS++8pEnkZInPImneaCQ5METNdOkeFBKUhMPRIkHKfEuUZSUlGlKPN2TrgfncpvmnntnmlEyq1Z7t89/rf9a6+y99oZxGZf/XeIq61EdtgKXgdXA0xrYAvBjOIF1AI9zvjcC74BSpndrJPkBWDScTF8Aa4E3wDlgHbASaANmVqlcCnwHvgDvgVfAJ+AikAAvgfVZwLnSVZHZaOuKoQi3ZOMi4NkYkpe1p4J7A8BpYAD49hfIy/oqG0+hLomiKP2L5L+1ubn5115S+3OAn4EnwBlgMzCjyt6ZAnQCJ4A7wOs88iRJHvw50HoujuPBoCKwHWiosy8MdfZnAdcHk8dxXFJ3VQbQlCTJvRBCGdRbD4M6uc5glpY3eAihpN5S5w12diSEcCCEcKUO4ljdr15T76ur1FDDLIQQ3qv71EdDOe3Kxj3leRXyk+pxdWnFWod6Wt2bY3de3aSuUHcPBVimHs7mK9WrmeOF6lR1o9qnzskh2ar2qm1qizpfXaPeVGdlmGN5pb09qMxz1Xb1kLqgzn1RyH7JUXW52lr5e/Kqi9qpto7V1atuUzfnARrV7jEib1T76gG2qxdGmXyiekkt1GswPTtek0aBfJp6YySGBfWg2tPQ0FAYgf1stUfdmdcjarbYJEniKIq6gY/Aw+zWHAC+p2labGpqiorFYgGYCEzN7oQdQClN07O1/EfDyGgC0ALMBdYAi4FyK+4H3gLPsxfR1zRNi+NP7nH5J+QntnXe5B5mpfQAAAAASUVORK5CYII=">

<!-- CSS -->
<link rel="stylesheet" type="text/css" href="../nimdoc.out.css?v=2.2.4">

<!-- JS -->
<script type="text/javascript" src="../dochack.js?v=2.2.4"></script>
</head>
<body>
  <div class="document" id="documentId">
    <div class="container">
      <h1 class="title">src/treestand/build_tables</h1>
      <div class="row">
  <div class="three columns">
    <div class="theme-select-wrapper">
      <label for="theme-select">Theme:&nbsp;</label>
      <select id="theme-select" onchange="setTheme(this.value)">
        <option value="auto">ðŸŒ— Match OS</option>
        <option value="dark">ðŸŒ‘ Dark</option>
        <option value="light">ðŸŒ• Light</option>
      </select>
    </div>
    <div id="global-links">
      <ul class="simple">
        <li><a id="indexLink" href="../theindex.html">Index</a></li>
      </ul>
    </div>
    <div id="searchInputDiv">
      Search: <input type="search" id="searchInput" oninput="search()"/>
    </div>
    <div>
      Group by:
      <select onchange="groupBy(this.value)">
        <option value="section">Section</option>
        <option value="type">Type</option>
      </select>
    </div>
    <ul class="simple simple-toc" id="toc-list">
  <li>
  <a class="reference reference-toplevel" href="#6" id="56">Imports</a>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#7" id="57">Types</a></summary>
    <ul class="simple simple-toc-section">
      <li><a class="reference" href="#BuildTablesError" title="BuildTablesError = object of CatchableError">BuildTablesError</a></li>
<li><a class="reference" href="#ClosureAddition" title="ClosureAddition = object
  variableIndex*: uint16
  productionIndex*: uint16
  followInfo*: LookaheadSetInfo">ClosureAddition</a></li>
<li><a class="reference" href="#ClosureCache" title="ClosureCache = object
  additions*: seq[seq[ClosureAddition]]
  symbolContext*: SymbolContext">ClosureCache</a></li>
<li><a class="reference" href="#CoreItem" title="CoreItem = object
  variableIndex*: uint16
  productionIndex*: uint16
  position*: uint16
  inheritedPrecedence*: int16">CoreItem</a></li>
<li><a class="reference" href="#FirstBetaCacheKey" title="FirstBetaCacheKey = object
  variableIndex*: uint16
  productionIndex*: uint16
  position*: uint16">FirstBetaCacheKey</a></li>
<li><a class="reference" href="#FirstSets" title="FirstSets = Table[GrammarSymbol, SymbolSet]">FirstSets</a></li>
<li><a class="reference" href="#FollowSets" title="FollowSets = Table[GrammarSymbol, SymbolSet]">FollowSets</a></li>
<li><a class="reference" href="#LookaheadSet" title="LookaheadSet = BitSet">LookaheadSet</a></li>
<li><a class="reference" href="#LookaheadSetInfo" title="LookaheadSetInfo = object
  lookaheads*: LookaheadSet
  propagatesLookaheads*: bool">LookaheadSetInfo</a></li>
<li><a class="reference" href="#LR0Item" title="LR0Item = object
  variableIndex*: uint16
  productionIndex*: uint16
  position*: uint16
  inheritedPrecedence*: int32">LR0Item</a></li>
<li><a class="reference" href="#LR0State" title="LR0State = object
  kernels*: seq[LR0Item]
  lookaheads*: Table[LR0Item, LookaheadSet]
  spontaneous*: Table[LR0Item, LookaheadSet]
  propagations*: Table[LR0Item, seq[PropagationLink]]">LR0State</a></li>
<li><a class="reference" href="#LR1Item" title="LR1Item = object
  variableIndex*: int32
  productionIndex*: int32
  position*: int32
  lookahead*: GrammarSymbol
  inheritedPrecedence*: int32">LR1Item</a></li>
<li><a class="reference" href="#PropagationLink" title="PropagationLink = object
  targetStateId*: int
  targetItem*: LR0Item">PropagationLink</a></li>
<li><a class="reference" href="#StateKernels" title="StateKernels = Table[CoreItem, LookaheadSet]">StateKernels</a></li>
<li><a class="reference" href="#Tables" title="Tables = object
  parseTable*: BuildParseTable
  mainLexTable*: BuildLexTable">Tables</a></li>
<li><a class="reference" href="#TokenConflictMap" title="TokenConflictMap = object
  n*: int
  statusMatrix*: seq[TokenConflictStatus]
  followingTokens*: seq[HashSet[uint32]]
  startingCharsByIndex*: seq[CharacterSet]
  followingCharsByIndex*: seq[CharacterSet]">TokenConflictMap</a></li>
<li><a class="reference" href="#TokenConflictStatus" title="TokenConflictStatus = object
  matchesPrefix*: bool
  doesMatchContinuation*: bool
  doesMatchValidContinuation*: bool
  doesMatchSeparators*: bool
  matchesSameString*: bool
  matchesDifferentString*: bool">TokenConflictStatus</a></li>

    </ul>
  </details>
</li>
<li>
  <details open>
    <summary><a class="reference reference-toplevel" href="#12" id="62">Procs</a></summary>
    <ul class="simple simple-toc-section">
      <ul class="simple nested-toc-section"><
  <li><a class="reference" href="#%3C%2CCoreItem%2CCoreItem" title="`&lt;`(a, b: CoreItem): bool">`&lt;`(a, b: CoreItem): bool</a></li>
<li><a class="reference" href="#%3C%2CLR0Item%2CLR0Item" title="`&lt;`(a, b: LR0Item): bool">`&lt;`(a, b: LR0Item): bool</a></li>
<li><a class="reference" href="#%3C%2CLR1Item%2CLR1Item" title="`&lt;`(a, b: LR1Item): bool">`&lt;`(a, b: LR1Item): bool</a></li>

</ul>
<ul class="simple nested-toc-section">==
  <li><a class="reference" href="#%3D%3D%2CCoreItem%2CCoreItem" title="`==`(a, b: CoreItem): bool">`==`(a, b: CoreItem): bool</a></li>
<li><a class="reference" href="#%3D%3D%2CLR1Item%2CLR1Item" title="`==`(a, b: LR1Item): bool">`==`(a, b: LR1Item): bool</a></li>

</ul>
<ul class="simple nested-toc-section">buildCanonicalCollection
  <li><a class="reference" href="#buildCanonicalCollection%2CSyntaxGrammar%2CFirstSets%2Cint" title="buildCanonicalCollection(grammar: SyntaxGrammar; firstSets: FirstSets;
                         augmentedStartIndex: int = -1): tuple[
    states: seq[HashSet[LR1Item]], stateMap: Table[seq[LR1Item], int],
    transitions: seq[Table[GrammarSymbol, int]]]">buildCanonicalCollection(grammar: SyntaxGrammar; firstSets: FirstSets;
                         augmentedStartIndex: int = -1): tuple[
    states: seq[HashSet[LR1Item]], stateMap: Table[seq[LR1Item], int],
    transitions: seq[Table[GrammarSymbol, int]]]</a></li>

</ul>
<ul class="simple nested-toc-section">buildCanonicalCollectionLALR
  <li><a class="reference" href="#buildCanonicalCollectionLALR%2CSyntaxGrammar%2CLexicalGrammar%2CFirstSets%2Cint" title="buildCanonicalCollectionLALR(grammar: SyntaxGrammar;
                             lexicalGrammar: LexicalGrammar;
                             firstSets: FirstSets; augmentedStartIndex: int = -1): tuple[
    states: seq[StateKernels], stateMap: Table[seq[CoreItem], seq[int]],
    transitions: seq[Table[GrammarSymbol, int]]]">buildCanonicalCollectionLALR(grammar: SyntaxGrammar;
                             lexicalGrammar: LexicalGrammar;
                             firstSets: FirstSets; augmentedStartIndex: int = -1): tuple[
    states: seq[StateKernels], stateMap: Table[seq[CoreItem], seq[int]],
    transitions: seq[Table[GrammarSymbol, int]]]</a></li>

</ul>
<ul class="simple nested-toc-section">buildParseTable
  <li><a class="reference" href="#buildParseTable%2CSyntaxGrammar%2CLexicalGrammar" title="buildParseTable(grammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar): BuildParseTable">buildParseTable(grammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar): BuildParseTable</a></li>

</ul>
<ul class="simple nested-toc-section">buildTables
  <li><a class="reference" href="#buildTables%2CSyntaxGrammar%2CLexicalGrammar" title="buildTables(syntaxGrammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar): Tables">buildTables(syntaxGrammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar): Tables</a></li>

</ul>
<ul class="simple nested-toc-section">closure
  <li><a class="reference" href="#closure%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CFirstSets" title="closure(grammar: SyntaxGrammar; items: HashSet[LR1Item]; firstSets: FirstSets): HashSet[
    LR1Item]">closure(grammar: SyntaxGrammar; items: HashSet[LR1Item]; firstSets: FirstSets): HashSet[
    LR1Item]</a></li>

</ul>
<ul class="simple nested-toc-section">closureFast
  <li><a class="reference" href="#closureFast%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CFirstSets%2CClosurePrecomputation" title="closureFast(grammar: SyntaxGrammar; items: HashSet[LR1Item];
            firstSets: FirstSets; precomputed: ClosurePrecomputation): HashSet[
    LR1Item]">closureFast(grammar: SyntaxGrammar; items: HashSet[LR1Item];
            firstSets: FirstSets; precomputed: ClosurePrecomputation): HashSet[
    LR1Item]</a></li>

</ul>
<ul class="simple nested-toc-section">computeFirst
  <li><a class="reference" href="#computeFirst%2CSyntaxGrammar" title="computeFirst(grammar: SyntaxGrammar): FirstSets">computeFirst(grammar: SyntaxGrammar): FirstSets</a></li>

</ul>
<ul class="simple nested-toc-section">computeFollow
  <li><a class="reference" href="#computeFollow%2CSyntaxGrammar%2CFirstSets" title="computeFollow(grammar: SyntaxGrammar; firstSets: FirstSets): FollowSets">computeFollow(grammar: SyntaxGrammar; firstSets: FirstSets): FollowSets</a></li>

</ul>
<ul class="simple nested-toc-section">computeNullability
  <li><a class="reference" href="#computeNullability%2CSyntaxGrammar" title="computeNullability(grammar: var SyntaxGrammar)">computeNullability(grammar: var SyntaxGrammar)</a></li>

</ul>
<ul class="simple nested-toc-section">doesConflict
  <li><a class="reference" href="#doesConflict%2CTokenConflictMap%2Cint%2Cint" title="doesConflict(map: TokenConflictMap; i, j: int): bool">doesConflict(map: TokenConflictMap; i, j: int): bool</a></li>

</ul>
<ul class="simple nested-toc-section">doesMatchSameString
  <li><a class="reference" href="#doesMatchSameString%2CTokenConflictMap%2Cint%2Cint" title="doesMatchSameString(map: TokenConflictMap; i, j: int): bool">doesMatchSameString(map: TokenConflictMap; i, j: int): bool</a></li>

</ul>
<ul class="simple nested-toc-section">getTransitiveClosure
  <li><a class="reference" href="#getTransitiveClosure%2CSyntaxGrammar%2CStateKernels%2CClosureCache%2CFirstSets" title="getTransitiveClosure(grammar: SyntaxGrammar; kernels: StateKernels;
                     cache: ClosureCache; firstSets: FirstSets): StateKernels">getTransitiveClosure(grammar: SyntaxGrammar; kernels: StateKernels;
                     cache: ClosureCache; firstSets: FirstSets): StateKernels</a></li>

</ul>
<ul class="simple nested-toc-section">goto
  <li><a class="reference" href="#goto%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CGrammarSymbol%2CFirstSets" title="goto(grammar: SyntaxGrammar; items: HashSet[LR1Item]; symbol: GrammarSymbol;
     firstSets: FirstSets): HashSet[LR1Item]">goto(grammar: SyntaxGrammar; items: HashSet[LR1Item]; symbol: GrammarSymbol;
     firstSets: FirstSets): HashSet[LR1Item]</a></li>

</ul>
<ul class="simple nested-toc-section">hash
  <li><a class="reference" href="#hash%2CFirstBetaCacheKey" title="hash(cacheKey: FirstBetaCacheKey): Hash">hash(cacheKey: FirstBetaCacheKey): Hash</a></li>
<li><a class="reference" href="#hash%2CCoreItem" title="hash(item: CoreItem): Hash">hash(item: CoreItem): Hash</a></li>
<li><a class="reference" href="#hash%2CLR1Item" title="hash(item: LR1Item): Hash">hash(item: LR1Item): Hash</a></li>

</ul>
<ul class="simple nested-toc-section">newTokenConflictMap
  <li><a class="reference" href="#newTokenConflictMap%2CLexicalGrammar%2Cseq%5BHashSet%5Buint32%5D%5D" title="newTokenConflictMap(lexicalGrammar: LexicalGrammar;
                    followingTokens: seq[HashSet[uint32]]): TokenConflictMap">newTokenConflictMap(lexicalGrammar: LexicalGrammar;
                    followingTokens: seq[HashSet[uint32]]): TokenConflictMap</a></li>

</ul>
<ul class="simple nested-toc-section">precomputeClosureCache
  <li><a class="reference" href="#precomputeClosureCache%2CSyntaxGrammar%2CLexicalGrammar%2CFirstSets" title="precomputeClosureCache(grammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar;
                       firstSets: FirstSets): ClosureCache">precomputeClosureCache(grammar: SyntaxGrammar; lexicalGrammar: LexicalGrammar;
                       firstSets: FirstSets): ClosureCache</a></li>

</ul>
<ul class="simple nested-toc-section">preferToken
  <li><a class="reference" href="#preferToken%2CLexicalGrammar%2C%2C" title="preferToken(grammar: LexicalGrammar; left: (int32, int); right: (int32, int)): bool">preferToken(grammar: LexicalGrammar; left: (int32, int); right: (int32, int)): bool</a></li>

</ul>
<ul class="simple nested-toc-section">preferTransition
  <li><a class="reference" href="#preferTransition%2CLexicalGrammar%2CNfaTransition%2Cint%2Cint32%2Cbool" title="preferTransition(grammar: LexicalGrammar; t: NfaTransition; completedId: int;
                 completedPrecedence: int32; hasSeparatorTransitions: bool): bool">preferTransition(grammar: LexicalGrammar; t: NfaTransition; completedId: int;
                 completedPrecedence: int32; hasSeparatorTransitions: bool): bool</a></li>

</ul>

    </ul>
  </details>
</li>

</ul>

  </div>
  <div class="nine columns" id="content">
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

    <div id="tocRoot"></div>
    
    <p class="module-desc">Build parse tables from prepared grammar</p>
    <div class="section" id="6">
  <h1><a class="toc-backref" href="#6">Imports</a></h1>
  <dl class="item">
    <a class="reference external" href="grammar.html">grammar</a>, <a class="reference external" href="rules.html">rules</a>, <a class="reference external" href="nfa.html">nfa</a>, <a class="reference external" href="tables.html">tables</a>, <a class="reference external" href="parser_types.html">parser_types</a>, <a class="reference external" href="symbol_set.html">symbol_set</a>, <a class="reference external" href="bitset.html">bitset</a>, <a class="reference external" href="minimizer.html">minimizer</a>
  </dl>
</div>
<div class="section" id="7">
  <h1><a class="toc-backref" href="#7">Types</a></h1>
  <dl class="item">
    <div id="BuildTablesError">
  <dt><pre><a href="build_tables.html#BuildTablesError"><span class="Identifier">BuildTablesError</span></a> <span class="Other">=</span> <span class="Keyword">object</span> <span class="Keyword">of</span> <span class="Identifier">CatchableError</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L10" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L10" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="ClosureAddition">
  <dt><pre><a href="build_tables.html#ClosureAddition"><span class="Identifier">ClosureAddition</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">variableIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">productionIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">followInfo</span><span class="Operator">*</span><span class="Other">:</span> <a href="build_tables.html#LookaheadSetInfo"><span class="Identifier">LookaheadSetInfo</span></a></pre></dt>
  <dd>
    
    Precomputed expansion: when we see non-terminal N at position, we must add these productions with these lookaheads.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L72" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L72" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="ClosureCache">
  <dt><pre><a href="build_tables.html#ClosureCache"><span class="Identifier">ClosureCache</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">additions</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#ClosureAddition"><span class="Identifier">ClosureAddition</span></a><span class="Other">]</span><span class="Other">]</span>
  <span class="Identifier">symbolContext</span><span class="Operator">*</span><span class="Other">:</span> <a href="bitset.html#SymbolContext"><span class="Identifier">SymbolContext</span></a></pre></dt>
  <dd>
    
    Precomputed closure additions for each non-terminal. additions<a class="reference internal" href="#i">i</a> = all productions to add when expanding non-terminal i.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L79" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L79" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="CoreItem">
  <dt><pre><a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">variableIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">productionIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">position</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">inheritedPrecedence</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int16</span></pre></dt>
  <dd>
    
    The &quot;core&quot; of an LR item: just the rule position, without lookaheads. This is the key for LALR(1) state merging.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1449" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1449" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="FirstBetaCacheKey">
  <dt><pre><a href="build_tables.html#FirstBetaCacheKey"><span class="Identifier">FirstBetaCacheKey</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">variableIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">productionIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">position</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1820" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1820" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="FirstSets">
  <dt><pre><a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a> <span class="Other">=</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a><span class="Other">,</span> <a href="symbol_set.html#SymbolSet"><span class="Identifier">SymbolSet</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L45" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L45" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="FollowSets">
  <dt><pre><a href="build_tables.html#FollowSets"><span class="Identifier">FollowSets</span></a> <span class="Other">=</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a><span class="Other">,</span> <a href="symbol_set.html#SymbolSet"><span class="Identifier">SymbolSet</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L46" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L46" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="LookaheadSet">
  <dt><pre><a href="build_tables.html#LookaheadSet"><span class="Identifier">LookaheadSet</span></a> <span class="Other">=</span> <a href="bitset.html#BitSet"><span class="Identifier">BitSet</span></a></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L65" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L65" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="LookaheadSetInfo">
  <dt><pre><a href="build_tables.html#LookaheadSetInfo"><span class="Identifier">LookaheadSetInfo</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">lookaheads</span><span class="Operator">*</span><span class="Other">:</span> <a href="build_tables.html#LookaheadSet"><span class="Identifier">LookaheadSet</span></a>
  <span class="Identifier">propagatesLookaheads</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    Follow set information using BitSet for efficient operations.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L67" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L67" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="LR0Item">
  <dt><pre><a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">variableIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">productionIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">position</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">uint16</span>
  <span class="Identifier">inheritedPrecedence</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span></pre></dt>
  <dd>
    
    LR(0) item: production with dot position, no lookahead
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L88" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L88" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="LR0State">
  <dt><pre><a href="build_tables.html#LR0State"><span class="Identifier">LR0State</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">kernels</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a><span class="Other">]</span>
  <span class="Identifier">lookaheads</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a><span class="Other">,</span> <a href="build_tables.html#LookaheadSet"><span class="Identifier">LookaheadSet</span></a><span class="Other">]</span>
  <span class="Identifier">spontaneous</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a><span class="Other">,</span> <a href="build_tables.html#LookaheadSet"><span class="Identifier">LookaheadSet</span></a><span class="Other">]</span>
  <span class="Identifier">propagations</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a><span class="Other">,</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#PropagationLink"><span class="Identifier">PropagationLink</span></a><span class="Other">]</span><span class="Other">]</span></pre></dt>
  <dd>
    
    State in LR(0) automaton with Pager's lookahead data
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L100" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L100" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="LR1Item">
  <dt><pre><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">variableIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>
  <span class="Identifier">productionIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>
  <span class="Identifier">position</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span>
  <span class="Identifier">lookahead</span><span class="Operator">*</span><span class="Other">:</span> <a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a>
  <span class="Identifier">inheritedPrecedence</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int32</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1415" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1415" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="PropagationLink">
  <dt><pre><a href="build_tables.html#PropagationLink"><span class="Identifier">PropagationLink</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">targetStateId</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">targetItem</span><span class="Operator">*</span><span class="Other">:</span> <a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a></pre></dt>
  <dd>
    
    Lookahead propagation: from one item to another
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L95" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L95" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="StateKernels">
  <dt><pre><a href="build_tables.html#StateKernels"><span class="Identifier">StateKernels</span></a> <span class="Other">=</span> <span class="Identifier">Table</span><span class="Other">[</span><a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a><span class="Other">,</span> <a href="build_tables.html#LookaheadSet"><span class="Identifier">LookaheadSet</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    Maps each core item to its set of lookaheads. This is the new state representation for LALR(1).
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1457" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1457" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="Tables">
  <dt><pre><a href="build_tables.html#Tables"><span class="Identifier">Tables</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">parseTable</span><span class="Operator">*</span><span class="Other">:</span> <a href="tables.html#BuildParseTable"><span class="Identifier">BuildParseTable</span></a>
  <span class="Identifier">mainLexTable</span><span class="Operator">*</span><span class="Other">:</span> <a href="tables.html#BuildLexTable"><span class="Identifier">BuildLexTable</span></a></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L12" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L12" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TokenConflictMap">
  <dt><pre><a href="build_tables.html#TokenConflictMap"><span class="Identifier">TokenConflictMap</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">n</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>
  <span class="Identifier">statusMatrix</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#TokenConflictStatus"><span class="Identifier">TokenConflictStatus</span></a><span class="Other">]</span>
  <span class="Identifier">followingTokens</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">uint32</span><span class="Other">]</span><span class="Other">]</span>
  <span class="Identifier">startingCharsByIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="nfa.html#CharacterSet"><span class="Identifier">CharacterSet</span></a><span class="Other">]</span>
  <span class="Identifier">followingCharsByIndex</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="nfa.html#CharacterSet"><span class="Identifier">CharacterSet</span></a><span class="Other">]</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L38" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L38" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="TokenConflictStatus">
  <dt><pre><a href="build_tables.html#TokenConflictStatus"><span class="Identifier">TokenConflictStatus</span></a> <span class="Other">=</span> <span class="Keyword">object</span>
  <span class="Identifier">matchesPrefix</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">doesMatchContinuation</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">doesMatchValidContinuation</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">doesMatchSeparators</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">matchesSameString</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span>
  <span class="Identifier">matchesDifferentString</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">bool</span></pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L30" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L30" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

  </dl>
</div>
<div class="section" id="12">
  <h1><a class="toc-backref" href="#12">Procs</a></h1>
  <dl class="item">
    <div id="&lt;-procs-all">
  <div id="<,CoreItem,CoreItem">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3C%2CCoreItem%2CCoreItem"><span class="Identifier">`&lt;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Ordering for CoreItem (for sorted sequences as map keys).
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1477" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1477" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="<,LR0Item,LR0Item">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3C%2CLR0Item%2CLR0Item"><span class="Identifier">`&lt;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="build_tables.html#LR0Item"><span class="Identifier">LR0Item</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Ordering for sorting LR0Items
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L2482" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L2482" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="<,LR1Item,LR1Item">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3C%2CLR1Item%2CLR1Item"><span class="Identifier">`&lt;`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1438" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1438" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="==-procs-all">
  <div id="==,CoreItem,CoreItem">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CCoreItem%2CCoreItem"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Equality for CoreItem.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1470" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1470" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="==,LR1Item,LR1Item">
  <dt><pre><span class="Keyword">proc</span> <a href="#%3D%3D%2CLR1Item%2CLR1Item"><span class="Identifier">`==`</span></a><span class="Other">(</span><span class="Identifier">a</span><span class="Other">,</span> <span class="Identifier">b</span><span class="Other">:</span> <a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1431" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1431" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="buildCanonicalCollection-procs-all">
  <div id="buildCanonicalCollection,SyntaxGrammar,FirstSets,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#buildCanonicalCollection%2CSyntaxGrammar%2CFirstSets%2Cint"><span class="Identifier">buildCanonicalCollection</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">;</span>
                              <span class="Identifier">augmentedStartIndex</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">states</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">stateMap</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">transitions</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">Table</span><span class="Other">[</span><a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">]</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L2131" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L2131" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="buildCanonicalCollectionLALR-procs-all">
  <div id="buildCanonicalCollectionLALR,SyntaxGrammar,LexicalGrammar,FirstSets,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#buildCanonicalCollectionLALR%2CSyntaxGrammar%2CLexicalGrammar%2CFirstSets%2Cint"><span class="Identifier">buildCanonicalCollectionLALR</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span>
                                  <span class="Identifier">lexicalGrammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">;</span>
                                  <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">;</span>
                                  <span class="Identifier">augmentedStartIndex</span><span class="Other">:</span> <span class="Identifier">int</span> <span class="Other">=</span> <span class="DecNumber">-1</span><span class="Other">)</span><span class="Other">:</span> <span class="Keyword">tuple</span><span class="Other">[</span>
    <span class="Identifier">states</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#StateKernels"><span class="Identifier">StateKernels</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">stateMap</span><span class="Other">:</span> <span class="Identifier">Table</span><span class="Other">[</span><span class="Identifier">seq</span><span class="Other">[</span><a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">int</span><span class="Other">]</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">transitions</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">Table</span><span class="Other">[</span><a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">]</span><span class="Other">]</span><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">TimeEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Build LALR(1) state collection using kernel-only storage with BitSet lookaheads. This is the optimized implementation that:<ol class="simple"><li>Stores only kernels in states (compute closure on-demand)</li>
<li>Uses BitSet for O(1) lookahead operations</li>
<li>Merges states during construction when kernels match</li>
<li>Propagates lookahead changes back through the worklist</li>
</ol>

    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L2264" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L2264" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="buildParseTable-procs-all">
  <div id="buildParseTable,SyntaxGrammar,LexicalGrammar">
  <dt><pre><span class="Keyword">proc</span> <a href="#buildParseTable%2CSyntaxGrammar%2CLexicalGrammar"><span class="Identifier">buildParseTable</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">lexicalGrammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">)</span><span class="Other">:</span> <a href="tables.html#BuildParseTable"><span class="Identifier">BuildParseTable</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">,</span> <span class="Identifier">BuildTablesError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L114" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L114" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="buildTables-procs-all">
  <div id="buildTables,SyntaxGrammar,LexicalGrammar">
  <dt><pre><span class="Keyword">proc</span> <a href="#buildTables%2CSyntaxGrammar%2CLexicalGrammar"><span class="Identifier">buildTables</span></a><span class="Other">(</span><span class="Identifier">syntaxGrammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">lexicalGrammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#Tables"><span class="Identifier">Tables</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">Exception</span><span class="Other">,</span> <span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">RootEffect</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Main entry point for building parse and lexical tables from a grammar.</p>
<p>This procedure orchestrates the entire table construction pipeline:</p>
<ol class="simple"><li>Build LR parse table from syntax grammar</li>
<li>Build NFA from lexical rules</li>
<li>Compute conflict information (FIRST/LAST sets, token conflicts)</li>
<li>Determine unique lexical configurations needed for each parse state</li>
<li>Convert NFA to DFA with multiple start states (one per config)</li>
<li>Apply state minimization to reduce parse table size</li>
</ol>
<p>The result contains both the parse table (for syntax analysis) and the lexical table (for tokenization).</p>
<p>Example: let (syntaxGrammar, lexicalGrammar) = prepareGrammar(inputGrammar) let tables = buildTables(syntaxGrammar, lexicalGrammar) # tables.parseTable contains LR parse actions # tables.mainLexTable contains DFA states for lexing</p>

    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L130" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L130" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="closure-procs-all">
  <div id="closure,SyntaxGrammar,HashSet[LR1Item],FirstSets">
  <dt><pre><span class="Keyword">proc</span> <a href="#closure%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CFirstSets"><span class="Identifier">closure</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">items</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span><span class="Other">;</span>
             <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compute closure using a Worklist Algorithm (O(N) instead of O(N^2))
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1832" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1832" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="closureFast-procs-all">
  <div id="closureFast,SyntaxGrammar,HashSet[LR1Item],FirstSets,ClosurePrecomputation">
  <dt><pre><span class="Keyword">proc</span> <a href="#closureFast%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CFirstSets%2CClosurePrecomputation"><span class="Identifier">closureFast</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">items</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span><span class="Other">;</span>
                 <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">;</span> <span class="Identifier">precomputed</span><span class="Other">:</span> <span class="Identifier">ClosurePrecomputation</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span>
    <a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1938" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1938" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="computeFirst-procs-all">
  <div id="computeFirst,SyntaxGrammar">
  <dt><pre><span class="Keyword">proc</span> <a href="#computeFirst%2CSyntaxGrammar"><span class="Identifier">computeFirst</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L117" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L117" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="computeFollow-procs-all">
  <div id="computeFollow,SyntaxGrammar,FirstSets">
  <dt><pre><span class="Keyword">proc</span> <a href="#computeFollow%2CSyntaxGrammar%2CFirstSets"><span class="Identifier">computeFollow</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#FollowSets"><span class="Identifier">FollowSets</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compute FOLLOW sets for all non-terminals
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1350" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1350" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="computeNullability-procs-all">
  <div id="computeNullability,SyntaxGrammar">
  <dt><pre><span class="Keyword">proc</span> <a href="#computeNullability%2CSyntaxGrammar"><span class="Identifier">computeNullability</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <span class="Keyword">var</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">)</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Analyzes the grammar and sets the .isNullable flag on all variables
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L760" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L760" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="doesConflict-procs-all">
  <div id="doesConflict,TokenConflictMap,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#doesConflict%2CTokenConflictMap%2Cint%2Cint"><span class="Identifier">doesConflict</span></a><span class="Other">(</span><span class="Identifier">map</span><span class="Other">:</span> <a href="build_tables.html#TokenConflictMap"><span class="Identifier">TokenConflictMap</span></a><span class="Other">;</span> <span class="Identifier">i</span><span class="Other">,</span> <span class="Identifier">j</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1113" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1113" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="doesMatchSameString-procs-all">
  <div id="doesMatchSameString,TokenConflictMap,int,int">
  <dt><pre><span class="Keyword">proc</span> <a href="#doesMatchSameString%2CTokenConflictMap%2Cint%2Cint"><span class="Identifier">doesMatchSameString</span></a><span class="Other">(</span><span class="Identifier">map</span><span class="Other">:</span> <a href="build_tables.html#TokenConflictMap"><span class="Identifier">TokenConflictMap</span></a><span class="Other">;</span> <span class="Identifier">i</span><span class="Other">,</span> <span class="Identifier">j</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1117" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1117" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="getTransitiveClosure-procs-all">
  <div id="getTransitiveClosure,SyntaxGrammar,StateKernels,ClosureCache,FirstSets">
  <dt><pre><span class="Keyword">proc</span> <a href="#getTransitiveClosure%2CSyntaxGrammar%2CStateKernels%2CClosureCache%2CFirstSets"><span class="Identifier">getTransitiveClosure</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">kernels</span><span class="Other">:</span> <a href="build_tables.html#StateKernels"><span class="Identifier">StateKernels</span></a><span class="Other">;</span>
                          <span class="Identifier">cache</span><span class="Other">:</span> <a href="build_tables.html#ClosureCache"><span class="Identifier">ClosureCache</span></a><span class="Other">;</span> <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#StateKernels"><span class="Identifier">StateKernels</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    <p>Compute the transitive closure of a kernel set using the precomputed cache. Input: Kernel items (rule positions with their lookahead BitSets) Output: Full closure (kernels + all recursive expansions)</p>
<p>This is the key LALR(1) optimization: we only store kernels in states, and compute closure on-the-fly when needed (during GOTO transitions).</p>

    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1697" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1697" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="goto-procs-all">
  <div id="goto,SyntaxGrammar,HashSet[LR1Item],GrammarSymbol,FirstSets">
  <dt><pre><span class="Keyword">proc</span> <a href="#goto%2CSyntaxGrammar%2CHashSet%5BLR1Item%5D%2CGrammarSymbol%2CFirstSets"><span class="Identifier">goto</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span> <span class="Identifier">items</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span><span class="Other">;</span>
          <span class="Identifier">symbol</span><span class="Other">:</span> <a href="rules.html#GrammarSymbol"><span class="Identifier">GrammarSymbol</span></a><span class="Other">;</span> <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">HashSet</span><span class="Other">[</span><a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">]</span> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Compute GOTO(items, symbol)
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L2028" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L2028" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="hash-procs-all">
  <div id="hash,FirstBetaCacheKey">
  <dt><pre><span class="Keyword">proc</span> <a href="#hash%2CFirstBetaCacheKey"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">cacheKey</span><span class="Other">:</span> <a href="build_tables.html#FirstBetaCacheKey"><span class="Identifier">FirstBetaCacheKey</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span class="Identifier">inline</span><span class="Other">,</span> <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1825" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1825" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="hash,CoreItem">
  <dt><pre><span class="Keyword">proc</span> <a href="#hash%2CCoreItem"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">item</span><span class="Other">:</span> <a href="build_tables.html#CoreItem"><span class="Identifier">CoreItem</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Efficient hash for CoreItem using combined field hashing.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1461" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1461" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>
<div id="hash,LR1Item">
  <dt><pre><span class="Keyword">proc</span> <a href="#hash%2CLR1Item"><span class="Identifier">hash</span></a><span class="Other">(</span><span class="Identifier">item</span><span class="Other">:</span> <a href="build_tables.html#LR1Item"><span class="Identifier">LR1Item</span></a><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Hash</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1422" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1422" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="newTokenConflictMap-procs-all">
  <div id="newTokenConflictMap,LexicalGrammar,seq[HashSet[uint32]]">
  <dt><pre><span class="Keyword">proc</span> <a href="#newTokenConflictMap%2CLexicalGrammar%2Cseq%5BHashSet%5Buint32%5D%5D"><span class="Identifier">newTokenConflictMap</span></a><span class="Other">(</span><span class="Identifier">lexicalGrammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">;</span>
                         <span class="Identifier">followingTokens</span><span class="Other">:</span> <span class="Identifier">seq</span><span class="Other">[</span><span class="Identifier">HashSet</span><span class="Other">[</span><span class="Identifier">uint32</span><span class="Other">]</span><span class="Other">]</span><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#TokenConflictMap"><span class="Identifier">TokenConflictMap</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L125" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L125" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="precomputeClosureCache-procs-all">
  <div id="precomputeClosureCache,SyntaxGrammar,LexicalGrammar,FirstSets">
  <dt><pre><span class="Keyword">proc</span> <a href="#precomputeClosureCache%2CSyntaxGrammar%2CLexicalGrammar%2CFirstSets"><span class="Identifier">precomputeClosureCache</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#SyntaxGrammar"><span class="Identifier">SyntaxGrammar</span></a><span class="Other">;</span>
                            <span class="Identifier">lexicalGrammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">;</span> <span class="Identifier">firstSets</span><span class="Other">:</span> <a href="build_tables.html#FirstSets"><span class="Identifier">FirstSets</span></a><span class="Other">)</span><span class="Other">:</span> <a href="build_tables.html#ClosureCache"><span class="Identifier">ClosureCache</span></a> {.
    <span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Identifier">KeyError</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    Precompute closure expansions using BitSet for efficient lookahead operations. This is the optimized version for LALR(1) with kernel-only storage.
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1594" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1594" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="preferToken-procs-all">
  <div id="preferToken,LexicalGrammar,,">
  <dt><pre><span class="Keyword">proc</span> <a href="#preferToken%2CLexicalGrammar%2C%2C"><span class="Identifier">preferToken</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">;</span> <span class="Identifier">left</span><span class="Other">:</span> <span class="Other">(</span><span class="Identifier">int32</span><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">;</span>
                 <span class="Identifier">right</span><span class="Other">:</span> <span class="Other">(</span><span class="Identifier">int32</span><span class="Other">,</span> <span class="Identifier">int</span><span class="Other">)</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1120" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1120" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>
<div id="preferTransition-procs-all">
  <div id="preferTransition,LexicalGrammar,NfaTransition,int,int32,bool">
  <dt><pre><span class="Keyword">proc</span> <a href="#preferTransition%2CLexicalGrammar%2CNfaTransition%2Cint%2Cint32%2Cbool"><span class="Identifier">preferTransition</span></a><span class="Other">(</span><span class="Identifier">grammar</span><span class="Other">:</span> <a href="grammar.html#LexicalGrammar"><span class="Identifier">LexicalGrammar</span></a><span class="Other">;</span> <span class="Identifier">t</span><span class="Other">:</span> <a href="nfa.html#NfaTransition"><span class="Identifier">NfaTransition</span></a><span class="Other">;</span>
                      <span class="Identifier">completedId</span><span class="Other">:</span> <span class="Identifier">int</span><span class="Other">;</span> <span class="Identifier">completedPrecedence</span><span class="Other">:</span> <span class="Identifier">int32</span><span class="Other">;</span>
                      <span class="Identifier">hasSeparatorTransitions</span><span class="Other">:</span> <span class="Identifier">bool</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">bool</span> {.<span><span class="Other pragmadots">...</span></span><span class="pragmawrap"><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span>
    <span class="Identifier">tags</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">,</span> <span class="Identifier">forbids</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span></span>.}</pre></dt>
  <dd>
    
    
    <a href="https://github.com/YesDrX/nim-treestand/tree/master/src/treestand/build_tables.nim#L1136" class="link-seesrc" target="_blank">Source</a>&nbsp;&nbsp;
<a href="https://github.com/YesDrX/nim-treestand/edit/devel/src/treestand/build_tables.nim#L1136" class="link-seesrc" target="_blank" >Edit</a>&nbsp;&nbsp;

  </dd>
</div>

</div>

  </dl>
</div>

  </div>
</div>

      <div class="twelve-columns footer">
        <span class="nim-sprite"></span>
        <br>
        <small style="color: var(--hint);">Made with Nim. Generated: 2025-12-26 00:43:29 UTC</small>
      </div>
    </div>
  </div>
  
</body>
</html>
